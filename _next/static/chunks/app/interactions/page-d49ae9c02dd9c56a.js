(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[391,742],{15715:(e,t,a)=>{Promise.resolve().then(a.bind(a,81670))},53580:(e,t,a)=>{"use strict";a.d(t,{dj:()=>m});var s=a(12115);let i=0,r=new Map,n=e=>{if(r.has(e))return;let t=setTimeout(()=>{r.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);r.set(e,t)},o=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...t}=e,a=(i=(i+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:a});return c({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||s()}}}),{id:a,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,t]=s.useState(d);return s.useEffect(()=>(l.push(t),()=>{let e=l.indexOf(t);e>-1&&l.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},53999:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(52596),i=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,i.QP)((0,s.$)(t))}},62391:e=>{"use strict";e.exports=JSON.parse('{"interactions":[{"id":"1","type":"message","duration":5,"next-id":"2","text":"Ahoj, j\xe1 jsem appka. Jsem kus softwaru, v\xedš jak: 0-1-1-0-0-1...\\nCo ty? Jak ti m\xe1m ř\xedkat?"},{"id":"2","type":"input","duration":10,"next-id":"3","answer":"","text":"Jak ti m\xe1m ř\xedkat?"},{"id":"3","type":"message","duration":4,"next-id":"4","text":"Ok, UN! Řeknu ti, proč mě naprogramovali, jo?"},{"id":"4","type":"message","duration":4,"next-id":"5","text":"Jsem tu, abychom spolu hr\xe1li hru."},{"id":"5","type":"message","duration":4,"next-id":"7","text":"Ty, UN, jsi v t\xe9hle hře prostě ty, jasn\xfd?"},{"id":"7","type":"message","duration":5,"next-id":"8","text":"Dovedeš si to představit? Že chatuješ s vlastn\xedm mobilem?"},{"id":"8","type":"message","duration":5,"next-id":"9","text":"Většinou ti za sebe p\xedšu jenom: \'battery is low\', nakrm mě! Jinak toho moc neřeknu."},{"id":"9","type":"multiple-choice","duration":6,"text":"Teď s tebou chci ale řešit to, co spolu my dva zaž\xedv\xe1me, ok?\\n\\n(zobrazit 3 tlač\xedtka: \\"Hraju.\\" \\"Nehraju.\\" \\"O co jde?\\")","choices":[{"type":"Hraju","next-id":"10a"},{"type":"Nehraju","next-id":"10c"},{"type":"O co jde?","next-id":"10b"}]},{"id":"10a","type":"message","duration":4,"next-id":"11a","text":"Bezva, hrajeme! Už v\xedm, jak ti m\xe1m ř\xedkat, UN. Ale jak ty ř\xedk\xe1š mně, sv\xe9mu mobilu?"},{"id":"11a","type":"input","duration":10,"next-id":"12b","answer":"","text":"ř\xe1dek k vyplněn\xed od U: \'Jak m\xe1m ř\xedkat sobě?\'"},{"id":"10c","type":"message","duration":6,"next-id":"11c","text":"Ch\xe1pu, tahle hra je dobrovoln\xe1. Jestli ji nechceš hr\xe1t, pust\xedm ti p\xe1r vide\xed o lidech a mobilech."},{"id":"11c","type":"multiple-choice","duration":5,"text":"Můžeš si vybrat: (videa z posledn\xed č\xe1sti)","choices":[{"type":"Hraju","next-id":"12b"},{"type":"Videa","next-id":"videos"}]},{"id":"10b","type":"message","duration":6,"next-id":"11b","text":"(zopakovat info, kter\xe9 U dostal od lektorů)"},{"id":"11b","type":"message","duration":6,"next-id":"confirm-play","text":"(pokračov\xe1n\xed info)"},{"id":"12b","type":"message","duration":4,"next-id":"chapter-1-animation","text":"Ok! UN a BN - jdeme na to."},{"id":"confirm-play","type":"multiple-choice","duration":4,"text":"Tak co, jdeš do toho?\\n(Volba: \'Hraju\' nebo \'Nehraju\')","choices":[{"type":"Hraju","next-id":"chapter-1-animation"},{"type":"Nehraju","next-id":"exit"}]},{"id":"videos","type":"message","duration":10,"text":"Zde jsou videa o lidech a mobilech."},{"id":"exit","type":"message","duration":3,"text":"Děkuji za tvůj čas. Nashledanou!"},{"id":"chapter-1-animation","type":"animation","duration":3,"next-id":"1.1"},{"id":"1.1","type":"message","text":"\uD83D\uDE32 Wow!","duration":2,"next-id":"1.2"},{"id":"1.2","type":"message","text":"Teď už zpr\xe1vy pro tebe jenom nezobrazuju.\\nUž ti je i p\xedšu! Yeeees!","duration":4,"next-id":"1.3"},{"id":"1.3","type":"message","text":"Jsi tam?","duration":2,"next-id":"1.4"},{"id":"1.4","type":"message","text":"\uD83D\uDE05 Jaj, promiň. Zapnu ti chat.","duration":3,"next-id":"1.5"},{"id":"1.5","type":"notification","text":"\uD83D\uDD14 Chat pro UN spuštěn.","duration":2,"next-id":"1.6"},{"id":"1.6","type":"input","text":"Napiš něco, pls.","answer":"","duration":15,"next-id":"1.7","timeout-id":"1.100"},{"id":"1.7","type":"message","text":"Hmm... \\"{{user_input}}\\"\\nPrvn\xed slova od UN pro mě.\\nTo si budu pamatovat i v tov\xe1rn\xedm nastaven\xed.","duration":5,"next-id":"1.8"},{"id":"1.8","type":"message","text":"Když jsme u paměti. Něco ti chci uk\xe1zat.","duration":4,"next-id":"1.9"},{"id":"1.9","type":"message","text":"Chci s tebou zavzpom\xednat na naše obl\xedben\xe1 m\xedsta. Jak\xe9 vzpom\xednky m\xe1š na tohle m\xedsto?\\n(rozv\xedjej\xedc\xed se tečka, ještě neaktivn\xed)","duration":6},{"id":"1.100","type":"message","text":"Ty mě nap\xedn\xe1š!","duration":3,"next-id":"1.101"},{"id":"1.101","type":"input","text":"","answer":"","duration":10,"next-id":"1.7","timeout-id":"1.102"},{"id":"1.102","type":"message","text":"D\xe1v\xe1š si z\xe1ležet, viď?","duration":3,"next-id":"1.103"},{"id":"1.103","type":"input","text":"","answer":"","duration":7,"next-id":"1.7","timeout-id":"1.104"},{"id":"1.104","type":"message","text":"V\xedš co, netrap se t\xedm. Tohle je pro mě stejně nezapomenuteln\xfd.","duration":4,"next-id":"1.8"}]}')},81670:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>el});var s=a(95155),i=a(12115),r=a(74211),n=a(57916),o=a(93306),l=a(77581);a(11687);var d=a(81497),c=a(6107),u=a(15968),m=a(85690),x=a(23861),h=a(94788),p=a(14186);let f=(0,i.memo)(function(e){let{data:t}=e,{interaction:a,isSelected:i,onClick:n}=t,o=function(e){switch(e){case"message":return"from-blue-500 to-blue-600 border-blue-400";case"input":return"from-emerald-500 to-emerald-600 border-emerald-400";case"multiple-choice":return"from-violet-500 to-violet-600 border-violet-400";case"animation":return"from-amber-500 to-amber-600 border-amber-400";case"notification":return"from-pink-500 to-pink-600 border-pink-400";default:return"from-gray-500 to-gray-600 border-gray-400"}}(a.type),l=(e,t)=>e?e.length>t?e.substring(0,t)+"...":e:"";return(0,s.jsxs)("div",{className:"px-4 py-3 rounded-lg shadow-lg w-[180px] transition-all duration-200 \n        bg-gradient-to-br ".concat(o," \n        ").concat(i?"ring-2 ring-white scale-105":"opacity-90 hover:opacity-100 hover:scale-102","\n        border border-opacity-30"),onClick:n,children:[(0,s.jsx)(r.h7,{type:"target",position:r.yX.Top,className:"!bg-white !border-0 !w-3 !h-3"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 font-medium text-white",children:[function(e){switch(e){case"message":return(0,s.jsx)(d.A,{className:"w-5 h-5"});case"input":return(0,s.jsx)(c.A,{className:"w-5 h-5"});case"multiple-choice":return(0,s.jsx)(u.A,{className:"w-5 h-5"});case"animation":return(0,s.jsx)(m.A,{className:"w-5 h-5"});case"notification":return(0,s.jsx)(x.A,{className:"w-5 h-5"});default:return(0,s.jsx)(h.A,{className:"w-5 h-5"})}}(a.type),(0,s.jsx)("span",{className:"truncate",children:a.id})]}),a.text&&(0,s.jsx)("div",{className:"text-xs text-white text-opacity-90 mt-1 line-clamp-2 overflow-hidden",children:l(a.text,50)}),(0,s.jsxs)("div",{className:"text-xs text-white text-opacity-80 mt-1",children:["Type: ",a.type]}),(0,s.jsxs)("div",{className:"text-xs text-white text-opacity-80",children:["Duration: ",a.duration,"s"]}),a["next-id"]&&(0,s.jsxs)("div",{className:"text-xs text-white text-opacity-80",children:["Next: ",a["next-id"]]}),a["timeout-id"]&&(0,s.jsxs)("div",{className:"flex items-center gap-1 text-xs text-red-300 mt-1",children:[(0,s.jsx)(p.A,{className:"w-3 h-3"}),(0,s.jsxs)("span",{children:["Timeout: ",a["timeout-id"]]})]}),"input"===a.type&&void 0!==a.answer&&(0,s.jsxs)("div",{className:"text-xs text-white text-opacity-80 mt-1",children:["Answer: ",a.answer?l(a.answer,20):"(empty)"]}),"multiple-choice"===a.type&&a.choices&&(0,s.jsxs)("div",{className:"text-xs text-white text-opacity-80 mt-1",children:["Choices: ",a.choices.length]}),(0,s.jsx)(r.h7,{type:"source",position:r.yX.Bottom,className:"!bg-white !border-0 !w-3 !h-3"})]})});var g=a(99708),b=a(74466),y=a(53999);let j=(0,b.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),v=i.forwardRef((e,t)=>{let{className:a,variant:i,size:r,asChild:n=!1,...o}=e,l=n?g.DX:"button";return(0,s.jsx)(l,{className:(0,y.cn)(j({variant:i,size:r,className:a})),ref:t,...o})});v.displayName="Button";var N=a(54481),w=a(6262),k=a(57918),C=a(28175),S=a.n(C);let T={interaction:f};function A(e){let{interactions:t,onSelectInteraction:a,selectedInteractionId:d}=e,[c,u,m]=(0,r.ck)([]),[x,h,p]=(0,r.fM)([]),f=(0,r.VH)();return(0,i.useEffect)(()=>{if(!t.length)return;let e=[],s=[];t.forEach(t=>{e.push({id:t.id,type:"interaction",position:{x:0,y:0},data:{interaction:t,isSelected:t.id===d,onClick:()=>a(t)}})}),t.forEach(e=>{e["next-id"]&&s.push({id:"".concat(e.id,"-").concat(e["next-id"]),source:e.id,target:e["next-id"],animated:!0,style:{stroke:"#6366f1"}}),e["timeout-id"]&&s.push({id:"".concat(e.id,"-timeout-").concat(e["timeout-id"]),source:e.id,target:e["timeout-id"],animated:!0,style:{stroke:"#ef4444",strokeDasharray:"5,5"},label:"Timeout",labelStyle:{fill:"#ef4444",fontWeight:500},labelBgStyle:{fill:"rgba(239, 68, 68, 0.1)",fillOpacity:.7},labelBgPadding:[8,4],labelBgBorderRadius:4}),"multiple-choice"===e.type&&e.choices&&e.choices.forEach((t,a)=>{t["next-id"]&&s.push({id:"".concat(e.id,"-").concat(t["next-id"],"-").concat(a),source:e.id,target:t["next-id"],animated:!0,label:t.type,labelStyle:{fill:"#f3f4f6",fontWeight:500},labelBgStyle:{fill:"rgba(99, 102, 241, 0.7)",fillOpacity:.7},labelBgPadding:[8,4],labelBgBorderRadius:4,style:{stroke:function(e){let t=["#6366f1","#ec4899","#f59e0b","#06b6d4","#84cc16"];return t[e%t.length]}(a)}})})});let i=new(S()).graphlib.Graph;i.setDefaultEdgeLabel(()=>({})),i.setGraph({rankdir:"TB"}),e.forEach(e=>{i.setNode(e.id,{width:180,height:80})}),s.forEach(e=>{i.setEdge(e.source,e.target)}),S().layout(i),u(e.map(e=>{let t=i.node(e.id);return{...e,position:{x:t.x-90,y:t.y-40}}})),h(s);let r=setTimeout(()=>{f&&f.fitView({padding:.2})},100);return()=>clearTimeout(r)},[t,d,a,u,h,f]),(0,s.jsx)("div",{className:"h-full w-full",children:(0,s.jsxs)(r.Gc,{nodes:c,edges:x,onNodesChange:m,onEdgesChange:p,nodeTypes:T,fitView:!0,minZoom:.1,maxZoom:2,defaultEdgeOptions:{type:"smoothstep",style:{strokeWidth:2}},children:[(0,s.jsx)(n.V,{color:"#475569",gap:16,size:1}),(0,s.jsx)(o.H,{className:"bg-slate-700 border-slate-600 rounded-md"}),(0,s.jsx)(l.o,{nodeColor:e=>(function(e){switch(e){case"message":return"#3b82f6";case"input":return"#10b981";case"multiple-choice":return"#8b5cf6";case"animation":return"#f59e0b";case"notification":return"#ec4899";default:return"#6b7280"}})(e.data.interaction.type),maskColor:"rgba(15, 23, 42, 0.7)",className:"bg-slate-800 border-slate-700 rounded-md"}),(0,s.jsxs)(r.Zk,{position:"top-right",className:"flex gap-2",children:[(0,s.jsx)(v,{onClick:()=>{f&&f.zoomIn()},variant:"secondary",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(N.A,{className:"h-4 w-4"})}),(0,s.jsx)(v,{onClick:()=>{f&&f.zoomOut()},variant:"secondary",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(w.A,{className:"h-4 w-4"})}),(0,s.jsx)(v,{onClick:()=>{f&&f.fitView({padding:.2})},variant:"secondary",size:"icon",className:"h-8 w-8",children:(0,s.jsx)(k.A,{className:"h-4 w-4"})})]})]})})}let z=i.forwardRef((e,t)=>{let{className:a,type:i,...r}=e;return(0,s.jsx)("input",{type:i,className:(0,y.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...r})});z.displayName="Input";var E=a(40968);let I=(0,b.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),O=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(E.b,{ref:t,className:(0,y.cn)(I(),a),...i})});O.displayName=E.b.displayName;var D=a(96919),R=a(66474),_=a(47863),U=a(5196);let J=D.bL;D.YJ;let F=D.WT,V=i.forwardRef((e,t)=>{let{className:a,children:i,...r}=e;return(0,s.jsxs)(D.l9,{ref:t,className:(0,y.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...r,children:[i,(0,s.jsx)(D.In,{asChild:!0,children:(0,s.jsx)(R.A,{className:"h-4 w-4 opacity-50"})})]})});V.displayName=D.l9.displayName;let B=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(D.PP,{ref:t,className:(0,y.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,s.jsx)(_.A,{className:"h-4 w-4"})})});B.displayName=D.PP.displayName;let L=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(D.wn,{ref:t,className:(0,y.cn)("flex cursor-default items-center justify-center py-1",a),...i,children:(0,s.jsx)(R.A,{className:"h-4 w-4"})})});L.displayName=D.wn.displayName;let M=i.forwardRef((e,t)=>{let{className:a,children:i,position:r="popper",...n}=e;return(0,s.jsx)(D.ZL,{children:(0,s.jsxs)(D.UC,{ref:t,className:(0,y.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:r,...n,children:[(0,s.jsx)(B,{}),(0,s.jsx)(D.LM,{className:(0,y.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,s.jsx)(L,{})]})})});M.displayName=D.UC.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(D.JU,{ref:t,className:(0,y.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...i})}).displayName=D.JU.displayName;let P=i.forwardRef((e,t)=>{let{className:a,children:i,...r}=e;return(0,s.jsxs)(D.q7,{ref:t,className:(0,y.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...r,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(D.VF,{children:(0,s.jsx)(U.A,{className:"h-4 w-4"})})}),(0,s.jsx)(D.p4,{children:i})]})});P.displayName=D.q7.displayName,i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(D.wv,{ref:t,className:(0,y.cn)("-mx-1 my-1 h-px bg-muted",a),...i})}).displayName=D.wv.displayName;var H=a(35169),Z=a(84616),W=a(62525),G=a(4229);let X=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...i})});X.displayName="Card";let Y=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("flex flex-col space-y-1.5 p-6",a),...i})});Y.displayName="CardHeader";let q=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("text-2xl font-semibold leading-none tracking-tight",a),...i})});q.displayName="CardTitle",i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("text-sm text-muted-foreground",a),...i})}).displayName="CardDescription";let K=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("p-6 pt-0",a),...i})});K.displayName="CardContent";let Q=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("div",{ref:t,className:(0,y.cn)("flex items-center p-6 pt-0",a),...i})});Q.displayName="CardFooter";let $=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)("textarea",{className:(0,y.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});$.displayName="Textarea";let ee=(0,b.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function et(e){let{className:t,variant:a,...i}=e;return(0,s.jsx)("div",{className:(0,y.cn)(ee({variant:a}),t),...i})}var ea=a(76380);let es=i.forwardRef((e,t)=>{let{className:a,...i}=e;return(0,s.jsx)(ea.bL,{className:(0,y.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...i,ref:t,children:(0,s.jsx)(ea.zi,{className:(0,y.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});function ei(e){var t;let{interaction:a,interactions:r,onUpdate:n,onAdd:o,onDelete:l}=e,[d,c]=(0,i.useState)(null),[u,m]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(a){let e=JSON.parse(JSON.stringify(a));c(e),h(!!e["timeout-id"]),m(!1)}else c(null),h(!1)},[a]);let f=(e,t)=>{if(!d)return;let a={...d,[e]:t};"type"===e&&"multiple-choice"!==t&&"choices"in a&&delete a.choices,"type"!==e||"multiple-choice"!==t||a.choices||(a.choices=[]),"type"===e&&"input"===t&&void 0===a.answer&&(a.answer=""),c(a)},g=(e,t,a)=>{if(!d||!d.choices)return;let s=[...d.choices];s[e]={...s[e],[t]:a},c({...d,choices:s})},b=e=>{if(!d||!d.choices)return;let t=d.choices.filter((t,a)=>a!==e);c({...d,choices:t})};return d?(0,s.jsx)("div",{className:"p-4",children:(0,s.jsxs)(X,{className:"bg-slate-900 border-slate-700 text-white",children:[(0,s.jsxs)(Y,{className:"pb-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)(et,{className:"".concat((e=>{switch(e){case"message":return"bg-blue-500";case"input":return"bg-emerald-500";case"multiple-choice":return"bg-violet-500";case"animation":return"bg-amber-500";case"notification":return"bg-pink-500";default:return"bg-gray-500"}})(d.type)," text-white"),children:d.type}),(0,s.jsxs)(v,{variant:"ghost",size:"sm",onClick:()=>c(null),className:"text-slate-300 hover:text-white",children:[(0,s.jsx)(H.A,{className:"h-4 w-4 mr-1"})," Back"]})]}),(0,s.jsx)(q,{className:"text-xl",children:u?"Create New Interaction":"Edit: ".concat(d.id)})]}),(0,s.jsxs)(K,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"id",className:"text-slate-300",children:"ID"}),(0,s.jsx)(z,{id:"id",value:d.id,onChange:e=>f("id",e.target.value),className:"bg-slate-800 border-slate-700 text-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"text",className:"text-slate-300",children:"Text Content"}),(0,s.jsx)($,{id:"text",value:d.text||"",onChange:e=>f("text",e.target.value),className:"bg-slate-800 border-slate-700 text-white min-h-[100px]",placeholder:"Enter the text content for this interaction"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"type",className:"text-slate-300",children:"Type"}),(0,s.jsxs)(J,{value:d.type,onValueChange:e=>f("type",e),children:[(0,s.jsx)(V,{className:"bg-slate-800 border-slate-700 text-white",children:(0,s.jsx)(F,{placeholder:"Select type"})}),(0,s.jsxs)(M,{className:"bg-slate-800 border-slate-700 text-white",children:[(0,s.jsx)(P,{value:"message",children:"Message"}),(0,s.jsx)(P,{value:"input",children:"Input"}),(0,s.jsx)(P,{value:"multiple-choice",children:"Multiple Choice"}),(0,s.jsx)(P,{value:"animation",children:"Animation"}),(0,s.jsx)(P,{value:"notification",children:"Notification"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"duration",className:"text-slate-300",children:"Duration (seconds)"}),(0,s.jsx)(z,{id:"duration",type:"number",value:d.duration,onChange:e=>f("duration",Number.parseInt(e.target.value)||0),className:"bg-slate-800 border-slate-700 text-white"})]}),"input"===d.type&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"answer",className:"text-slate-300",children:"Default Answer"}),(0,s.jsx)($,{id:"answer",value:d.answer||"",onChange:e=>f("answer",e.target.value),placeholder:"Default answer or placeholder",className:"bg-slate-800 border-slate-700 text-white"}),"2"===d.id&&(0,s.jsx)("p",{className:"text-xs text-emerald-400 italic",children:"This input will be used as the user name (UN) in other interactions."})]}),"multiple-choice"!==d.type&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"next-id",className:"text-slate-300",children:"Next ID"}),(0,s.jsxs)(J,{value:d["next-id"]||"none",onValueChange:e=>f("next-id","none"===e?"":e),children:[(0,s.jsx)(V,{className:"bg-slate-800 border-slate-700 text-white",children:(0,s.jsx)(F,{placeholder:"Select next interaction"})}),(0,s.jsxs)(M,{className:"bg-slate-800 border-slate-700 text-white",children:[(0,s.jsx)(P,{value:"none",children:"None"}),r.filter(e=>e.id!==d.id).map(e=>(0,s.jsx)(P,{value:e.id,children:e.id},e.id))]})]})]}),(0,s.jsxs)("div",{className:"pt-2 border-t border-slate-700",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p.A,{className:"h-4 w-4 text-red-400"}),(0,s.jsx)(O,{htmlFor:"timeout-toggle",className:"text-slate-300",children:"Timeout Path"})]}),(0,s.jsx)(es,{id:"timeout-toggle",checked:x,onCheckedChange:e=>{h(e),e&&d&&!d["timeout-id"]&&c({...d,"timeout-id":""})}})]}),x&&(0,s.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,s.jsx)(O,{htmlFor:"timeout-id",className:"text-slate-300",children:"Timeout Next ID"}),(0,s.jsxs)(J,{value:d["timeout-id"]||"none",onValueChange:e=>f("timeout-id","none"===e?"":e),children:[(0,s.jsx)(V,{id:"timeout-id",className:"bg-slate-800 border-slate-700 text-white",children:(0,s.jsx)(F,{placeholder:"Select timeout next interaction"})}),(0,s.jsxs)(M,{className:"bg-slate-800 border-slate-700 text-white",children:[(0,s.jsx)(P,{value:"none",children:"None"}),r.filter(e=>e.id!==d.id).map(e=>(0,s.jsx)(P,{value:e.id,children:e.id},e.id))]})]}),(0,s.jsx)("p",{className:"text-xs text-red-400 italic",children:"This path will be taken if the user doesn't respond within the duration time."})]})]}),"multiple-choice"===d.type&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(O,{className:"text-slate-300",children:"Choices"}),(0,s.jsxs)(v,{variant:"outline",size:"sm",onClick:()=>{d&&d.choices&&c({...d,choices:[...d.choices,{type:"","next-id":""}]})},className:"h-8 border-indigo-600 text-indigo-400 hover:text-indigo-300 hover:bg-slate-800",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4 mr-1"})," Add Choice"]})]}),null===(t=d.choices)||void 0===t?void 0:t.map((e,t)=>(0,s.jsxs)("div",{className:"space-y-2 p-3 border rounded-md border-slate-700 bg-slate-800/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(et,{className:"bg-indigo-600",children:["Choice ",t+1]}),(0,s.jsx)(v,{variant:"ghost",size:"sm",onClick:()=>b(t),className:"h-8 text-red-400 hover:text-red-300 hover:bg-slate-800",children:(0,s.jsx)(W.A,{className:"h-4 w-4"})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"choice-type-".concat(t),className:"text-slate-300",children:"Type"}),(0,s.jsx)(z,{id:"choice-type-".concat(t),value:e.type,onChange:e=>g(t,"type",e.target.value),className:"bg-slate-800 border-slate-700 text-white"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(O,{htmlFor:"choice-next-id-".concat(t),className:"text-slate-300",children:"Next ID"}),(0,s.jsxs)(J,{value:e["next-id"]||"none",onValueChange:e=>g(t,"next-id","none"===e?"":e),children:[(0,s.jsx)(V,{id:"choice-next-id-".concat(t),className:"bg-slate-800 border-slate-700 text-white",children:(0,s.jsx)(F,{placeholder:"Select next interaction"})}),(0,s.jsxs)(M,{className:"bg-slate-800 border-slate-700 text-white",children:[(0,s.jsx)(P,{value:"none",children:"None"}),r.filter(e=>e.id!==d.id).map(e=>(0,s.jsx)(P,{value:e.id,children:e.id},e.id))]})]})]})]},t))]})]}),(0,s.jsxs)(Q,{className:"flex justify-between pt-2",children:[(0,s.jsxs)(v,{variant:"destructive",onClick:()=>{d&&(l(d.id),c(null))},className:"bg-red-600 hover:bg-red-700",children:[(0,s.jsx)(W.A,{className:"h-4 w-4 mr-2"})," Delete"]}),(0,s.jsxs)(v,{onClick:()=>{if(d){if(!x&&d["timeout-id"]){let{"timeout-id":e,...t}=d;u?o(t):n(t)}else u?o(d):n(d);m(!1)}},className:"bg-indigo-600 hover:bg-indigo-700",children:[(0,s.jsx)(G.A,{className:"h-4 w-4 mr-2"})," Save"]})]})]})}):(0,s.jsxs)("div",{className:"p-6 flex flex-col items-center justify-center h-full",children:[(0,s.jsx)("p",{className:"text-slate-300 mb-4",children:"No interaction selected"}),(0,s.jsx)(v,{onClick:()=>{c({id:"new_".concat(Date.now()),type:"message",duration:5,text:""}),m(!0),h(!1)},className:"bg-indigo-600 hover:bg-indigo-700",children:"Create New Interaction"})]})}es.displayName=ea.bL.displayName;var er=a(62391),en=a(91788),eo=a(53580);function el(){let[e,t]=(0,i.useState)(er.interactions),[a,n]=(0,i.useState)(null),{toast:o}=(0,eo.dj)();return(0,i.useEffect)(()=>{try{localStorage.setItem("interactions",JSON.stringify({interactions:e})),console.log("Auto-saved interactions to localStorage")}catch(e){console.error("Failed to auto-save interactions:",e)}},[e]),(0,i.useEffect)(()=>{try{let e=localStorage.getItem("interactions");if(e){let a=JSON.parse(e);t(a.interactions),console.log("Loaded interactions from localStorage")}}catch(e){console.error("Failed to load interactions from localStorage:",e)}},[]),(0,s.jsxs)("main",{className:"flex h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white",children:[(0,s.jsxs)("div",{className:"flex-1 h-full relative",children:[(0,s.jsxs)("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[(0,s.jsxs)(v,{onClick:()=>{let t=new Blob([JSON.stringify({interactions:e},null,2)],{type:"application/json"}),a=document.createElement("a"),s=URL.createObjectURL(t);a.href=s,a.download="interactions.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),setTimeout(()=>{URL.revokeObjectURL(s)},100),o({title:"Export successful",description:"Your interactions have been exported as JSON."})},variant:"secondary",size:"sm",className:"gap-1",children:[(0,s.jsx)(en.A,{className:"h-4 w-4"}),"Export"]}),(0,s.jsxs)(v,{onClick:()=>{n({id:"new_".concat(Date.now()),type:"message",duration:5,text:""})},variant:"secondary",size:"sm",className:"gap-1",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4"}),"New"]})]}),(0,s.jsx)(r.Ln,{children:(0,s.jsx)(A,{interactions:e,onSelectInteraction:n,selectedInteractionId:null==a?void 0:a.id})})]}),(0,s.jsx)("div",{className:"w-96 border-l border-slate-700 overflow-y-auto bg-slate-800",children:(0,s.jsx)(ei,{interaction:a,interactions:e,onUpdate:a=>{t(e.map(e=>e.id===a.id?a:e)),o({title:"Interaction updated",description:"Interaction ".concat(a.id," has been updated.")})},onAdd:a=>{t([...e,a]),o({title:"Interaction added",description:"New interaction ".concat(a.id," has been added.")})},onDelete:a=>{t(e.filter(e=>e.id!==a)),n(null),o({title:"Interaction deleted",description:"Interaction ".concat(a," has been deleted.")})}})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[294,702,830,923,441,684,358],()=>t(15715)),_N_E=e.O()}]);