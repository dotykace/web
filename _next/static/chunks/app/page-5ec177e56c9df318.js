(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{18028:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>h});var s=i(95155),l=i(12115),n=i(76408),a=i(60760),r=i(6874),c=i.n(r),o=i(381),d=i(81497);function u(e){let{children:t,onClick:i}=e;return(0,s.jsxs)("div",{onClick:i,className:"bg-white rounded-3xl shadow-xl overflow-hidden cursor-pointer transform transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[(0,s.jsxs)("div",{className:"p-2 bg-purple-600 text-white flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,s.jsx)("h1",{className:"text-xl font-bold",children:"PhoneCard \uD83D\uDCF1✨"}),(0,s.jsx)("div",{className:"text-sm",children:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),t]})}var x=i(92138);function m(e){let{onSubmit:t,placeholder:i,buttonText:n}=e,[a,r]=(0,l.useState)("");return(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&(t(a),r(""))},className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",value:a,onChange:e=>r(e.target.value),placeholder:i,className:"flex-1 p-3 border rounded-full focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}),(0,s.jsxs)("button",{type:"submit",className:"bg-purple-600 text-white p-3 rounded-full hover:bg-purple-700 transition-colors",children:[(0,s.jsx)(x.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:n})]})]})}function h(){var e;let[t,r]=(0,l.useState)([]),[x,h]=(0,l.useState)(null),[p,f]=(0,l.useState)(""),[v,w]=(0,l.useState)("Bot"),[b,g]=(0,l.useState)(""),[j,N]=(0,l.useState)(!0),[y,k]=(0,l.useState)([]),S=(0,l.useRef)(null);(0,l.useEffect)(()=>{(async()=>{try{let e=await i.e(391).then(i.t.bind(i,62391,19));r(e.interactions);let t=e.interactions.find(e=>"1"===e.id);t&&(h(t),k([t])),N(!1)}catch(e){console.error("Error loading interactions:",e),N(!1)}})()},[]),(0,l.useEffect)(()=>{var e;null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[y]),(0,l.useEffect)(()=>{if(!x||"input"===x.type||"multiple-choice"===x.type)return;let e=setTimeout(()=>{x["next-id"]&&C(x["next-id"])},1e3*x.duration);return()=>clearTimeout(e)},[x]);let C=e=>{let i=t.find(t=>t.id===e);i&&(h(i),k(e=>[...e,i]))},E=e=>{k(t=>[...t,{id:"user-choice-".concat(Date.now()),type:"user-message",text:e.type,duration:0}]),e["next-id"]&&C(e["next-id"])},D=e=>{if(!e)return"";let t=e.replace(/UN/g,p||"ty");return(t=t.replace(/BN/g,v)).replace(/\{\{user_input\}\}/g,b)};return j?(0,s.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-4 bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600",children:(0,s.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,s.jsx)(u,{children:(0,s.jsx)("div",{className:"p-6 text-center",children:(0,s.jsx)("div",{className:"animate-pulse",children:"Nač\xedt\xe1n\xed interakc\xed..."})})})})}):(0,s.jsxs)("main",{className:"flex min-h-screen flex-col items-center justify-between p-4 bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600",children:[(0,s.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,s.jsx)(c(),{href:"/interactions",children:(0,s.jsxs)(n.P.div,{className:"flex items-center gap-2 bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-full backdrop-blur-sm shadow-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:[(0,s.jsx)(o.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"font-medium",children:"Editor interakc\xed"})]})})}),(0,s.jsxs)("div",{className:"w-full max-w-md mx-auto flex flex-col h-[calc(100vh-2rem)]",children:[(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-t-xl p-3 flex items-center gap-3 border-b border-white/20",children:[(0,s.jsx)(d.A,{className:"w-6 h-6 text-white"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-white",children:"Interaktivn\xed chat"})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white/5 backdrop-blur-sm",children:[y.map((e,t)=>(0,s.jsx)("div",{className:"max-w-[80%] ".concat("user-message"===e.type?"ml-auto":"mr-auto"),children:(0,s.jsx)(a.N,{mode:"wait",children:(0,s.jsx)(n.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:"user-message"===e.type?(0,s.jsx)("div",{className:"bg-indigo-600 text-white p-3 rounded-xl rounded-tr-none",children:(0,s.jsx)("p",{children:e.text})}):"message"===e.type?(0,s.jsx)("div",{className:"bg-white/20 text-white p-3 rounded-xl rounded-tl-none",children:(0,s.jsx)("p",{children:D(e.text)})}):"notification"===e.type?(0,s.jsx)("div",{className:"bg-gray-800/50 text-white p-3 rounded-xl text-center w-full max-w-full mx-auto",children:(0,s.jsx)("p",{children:D(e.text)})}):"animation"===e.type?(0,s.jsx)("div",{className:"flex justify-center items-center h-20 w-full max-w-full mx-auto",children:(0,s.jsx)("div",{className:"animate-bounce text-4xl",children:"✨"})}):null})})},"".concat(e.id,"-").concat(t))),(0,s.jsx)("div",{ref:S})]}),(0,s.jsx)("div",{className:"bg-white/10 backdrop-blur-sm rounded-b-xl p-4 border-t border-white/20",children:(null==x?void 0:x.type)==="input"?(0,s.jsx)(m,{onSubmit:e=>{g(e),(null==x?void 0:x.type)==="input"&&("2"===x.id?f(e):"11a"===x.id&&w(e),k(t=>[...t,{id:"user-".concat(Date.now()),type:"user-message",text:e,duration:0}]),x["next-id"]&&C(x["next-id"]))},placeholder:"2"===x.id?"Jak ti m\xe1m ř\xedkat?":"Napiš odpověď...",buttonText:"Odeslat"}):(null==x?void 0:x.type)==="multiple-choice"?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(e=x.choices)||void 0===e?void 0:e.map((e,t)=>(0,s.jsx)("button",{onClick:()=>E(e),className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg text-white font-medium flex-1",children:e.type},t))}):(0,s.jsx)("div",{className:"bg-white/10 hover:bg-white/20 transition-colors p-3 rounded-lg text-white/70 text-center cursor-pointer",onClick:()=>(null==x?void 0:x["next-id"])&&C(x["next-id"]),children:"Klikni pro pokračov\xe1n\xed..."})})]})]})}},30058:(e,t,i)=>{Promise.resolve().then(i.bind(i,18028))}},e=>{var t=t=>e(e.s=t);e.O(0,[257,441,684,358],()=>t(30058)),_N_E=e.O()}]);